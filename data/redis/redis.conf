#############################################
# NETWORKING
#############################################

# Listen on all network interfaces inside the container.
# This allows other Docker containers on the same network
# (e.g. applications, exporters) to connect to Redis.
# Docker networking + firewall rules keep this safe.
bind 0.0.0.0

# Enable Redis safety mode.
# If Redis is accidentally exposed without authentication,
# protected mode prevents unsafe external access.
# This is strongly recommended for homelab and production setups.
protected-mode yes


#############################################
# PERSISTENCE (DATA SAFETY)
#############################################

# Enable Append Only File (AOF) persistence.
# Every write operation is logged so Redis can recover data
# after crashes or restarts.
# This makes Redis durable instead of purely in-memory.
appendonly yes

# Control how often Redis flushes data to disk.
# "everysec" means data is written once per second.
# This provides a good balance between performance and safety,
# with a maximum of ~1 second of data loss in worst cases.
appendfsync everysec


#############################################
# FILE STORAGE
#############################################

# Directory where Redis stores persistence files (AOF / RDB).
# This path is mapped to a Docker volume, so data survives
# container restarts, upgrades, and re-creations.
dir /data
